!function(n){var t=n.Observable=function(){this.observers={}};t.prototype.on=function(n,t){"function"==typeof t&&(this.observers[n]=this.observers[n]||[]).push(t)},t.prototype.emit=function(n){var t=Array.prototype.slice.call(arguments,1);(this.observers[n]||[]).forEach(function(n){n.apply(void 0,t)})}}(window.launchpad=window.launchpad||{}),function(n){var t=n.Button=function(t,e,i){n.Observable.call(this),this.channel=t,this.note=e,this.midiAdapter=i};t.prototype=Object.create(n.Observable.prototype),t.prototype.constructor=t,t.prototype.turn=function(t){this.paint(n.defaults.paintNames[t])},t.prototype.paint=function(t){t=n.extend(t,{red:0,green:0});var e=t.green%4*16+t.red%4;this.send(e)},t.prototype.send=function(n){this.midiAdapter.send(this.channel,this.note,n)}}(window.launchpad=window.launchpad||{}),function(n,t){function e(n){return{from:function(e){for(var i=e.next();!i.done;){if(i.value.name===n)return i.value;i=e.next()}return t}}}var i=n.defaults={};i.paintNames={red:{red:3,green:0},green:{red:0,green:3},orange:{red:3,green:3}},i.name="Launchpad Mini",i.sysex=!1,i.midiAdapterFactory=function(t,i){if(navigator.requestMIDIAccess){var o=this.name;navigator.requestMIDIAccess({sysex:this.sysex}).then(function(n){return{input:e(o).from(n.inputs.values()),output:e(o).from(n.outputs.values())}}).then(function(t){return new n.MidiAdapter(t.input,t.output)}).then(function(t){return new n.Launchpad(t)}).then(function(n){t(n)})["catch"](i)}else i()}}(window.launchpad=window.launchpad||{}),function(n){n.extend=function(){return Array.prototype.slice.call(arguments).reduce(function(n,t){for(var e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e]);return n},{})}}(window.launchpad=window.launchpad||{}),function(n){n.connect=function(t){return t=n.extend(t||{},n.defaults),new Promise(t.midiAdapterFactory.bind(t))}}(window.launchpad=window.launchpad||{}),function(n){var t=n.MidiAdapter=function(t,e){n.Observable.call(this),this.input=t,this.output=e,this.input.onmidimessage=this.onMidiMessageCallback.bind(this)};t.prototype=Object.create(n.Observable.prototype),t.prototype.constructor=t,t.prototype.onMidiMessageCallback=function(n){var t=n.data[0],e=n.data[1],i=n.data[2];this.emit("input",t,e,i)},t.prototype.send=function(n,t,e){this.output.send([n,t,e])}}(window.launchpad=window.launchpad||{}),function(n){var t=[{applies:function(n,t,e){return 127===e},handle:function(n){n.emit("press")}},{applies:function(n,t,e){return 0===e},handle:function(n){n.emit("release")}}],e=n.Launchpad=function(t){n.Observable.call(this),this.midiAdapter=t,this.midiAdapter.on("input",this.handleInput.bind(this))};e.prototype=Object.create(n.Observable.prototype),e.prototype.constructor=e,e.prototype.handleInput=function(n,e,i){t.filter(function(t){return t.applies(n,e,i)}).forEach(function(n){n.handle(this)}.bind(this))}}(window.launchpad=window.launchpad||{}),function(n){n.version="1.0.0"}(window.launchpad=window.launchpad||{});